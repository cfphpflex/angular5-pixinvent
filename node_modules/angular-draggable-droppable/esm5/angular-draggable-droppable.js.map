{
  "version": 3,
  "file": "angular-draggable-droppable.js",
  "sources": [
    "ng://angular-draggable-droppable/src/drag-and-drop.module.ts",
    "ng://angular-draggable-droppable/src/droppable.directive.ts",
    "ng://angular-draggable-droppable/src/draggable.directive.ts",
    "ng://angular-draggable-droppable/src/draggable-helper.provider.ts"
  ],
  "sourcesContent": [
    "import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { DraggableDirective } from './draggable.directive';\nimport { DroppableDirective } from './droppable.directive';\nimport { DraggableHelper } from './draggable-helper.provider';\n\n@NgModule({\n  declarations: [DraggableDirective, DroppableDirective],\n  exports: [DraggableDirective, DroppableDirective]\n})\nexport class DragAndDropModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: DragAndDropModule,\n      providers: [DraggableHelper]\n    };\n  }\n}\n",
    "import {\n  Directive,\n  OnInit,\n  ElementRef,\n  OnDestroy,\n  Output,\n  EventEmitter,\n  NgZone\n} from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\nimport { distinctUntilChanged } from 'rxjs/operators/distinctUntilChanged';\nimport { pairwise } from 'rxjs/operators/pairwise';\nimport { filter } from 'rxjs/operators/filter';\nimport { map } from 'rxjs/operators/map';\nimport { mergeMap } from 'rxjs/operators/mergeMap';\nimport { DraggableHelper } from './draggable-helper.provider';\n\nfunction isCoordinateWithinRectangle(\n  clientX: number,\n  clientY: number,\n  rect: ClientRect\n): boolean {\n  return (\n    clientX >= rect.left &&\n    clientX <= rect.right &&\n    clientY >= rect.top &&\n    clientY <= rect.bottom\n  );\n}\n\nexport interface DropData {\n  dropData: any;\n}\n\n@Directive({\n  selector: '[mwlDroppable]'\n})\nexport class DroppableDirective implements OnInit, OnDestroy {\n  /**\n   * Called when a draggable element starts overlapping the element\n   */\n  @Output() dragEnter = new EventEmitter<DropData>();\n\n  /**\n   * Called when a draggable element stops overlapping the element\n   */\n  @Output() dragLeave = new EventEmitter<DropData>();\n\n  /**\n   * Called when a draggable element is moved over the element\n   */\n  @Output() dragOver = new EventEmitter<DropData>();\n\n  /**\n   * Called when a draggable element is dropped on this element\n   */\n  @Output() drop = new EventEmitter<DropData>();\n\n  currentDragSubscription: Subscription;\n\n  constructor(\n    private element: ElementRef,\n    private draggableHelper: DraggableHelper,\n    private zone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    interface CurrentDragData {\n      clientX: number;\n      clientY: number;\n      dropData: any;\n    }\n\n    this.currentDragSubscription = this.draggableHelper.currentDrag.subscribe(\n      (drag: Subject<CurrentDragData>) => {\n        const droppableRectangle: ClientRect = this.element.nativeElement.getBoundingClientRect();\n\n        let currentDragDropData: any;\n        const overlaps = drag.pipe(\n          map(({ clientX, clientY, dropData }) => {\n            currentDragDropData = dropData;\n            return isCoordinateWithinRectangle(\n              clientX,\n              clientY,\n              droppableRectangle\n            );\n          })\n        );\n\n        const overlapsChanged = overlaps.pipe(distinctUntilChanged());\n\n        let dragOverActive: boolean; // TODO - see if there's a way of doing this via rxjs\n\n        overlapsChanged\n          .pipe(filter(overlapsNow => overlapsNow))\n          .subscribe(() => {\n            dragOverActive = true;\n            this.zone.run(() => {\n              this.dragEnter.next({\n                dropData: currentDragDropData\n              });\n            });\n          });\n\n        overlaps.pipe(filter(overlapsNow => overlapsNow)).subscribe(() => {\n          this.zone.run(() => {\n            this.dragOver.next({\n              dropData: currentDragDropData\n            });\n          });\n        });\n\n        overlapsChanged\n          .pipe(pairwise())\n          .pipe(\n            filter(([didOverlap, overlapsNow]) => didOverlap && !overlapsNow)\n          )\n          .subscribe(() => {\n            dragOverActive = false;\n            this.zone.run(() => {\n              this.dragLeave.next({\n                dropData: currentDragDropData\n              });\n            });\n          });\n\n        drag.pipe(mergeMap(() => overlaps)).subscribe({\n          complete: () => {\n            if (dragOverActive) {\n              this.zone.run(() => {\n                this.drop.next({\n                  dropData: currentDragDropData\n                });\n              });\n            }\n          }\n        });\n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.currentDragSubscription.unsubscribe();\n  }\n}\n",
    "import {\n  Directive,\n  OnInit,\n  ElementRef,\n  Renderer2,\n  Output,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnChanges,\n  NgZone,\n  SimpleChanges\n} from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\nimport { merge } from 'rxjs/observable/merge';\nimport { map } from 'rxjs/operators/map';\nimport { mergeMap } from 'rxjs/operators/mergeMap';\nimport { takeUntil } from 'rxjs/operators/takeUntil';\nimport { take } from 'rxjs/operators/take';\nimport { takeLast } from 'rxjs/operators/takeLast';\nimport { pairwise } from 'rxjs/operators/pairwise';\nimport { share } from 'rxjs/operators/share';\nimport { filter } from 'rxjs/operators/filter';\nimport { DraggableHelper } from './draggable-helper.provider';\n\nexport interface Coordinates {\n  x: number;\n  y: number;\n}\n\nexport interface DragAxis {\n  x: boolean;\n  y: boolean;\n}\n\nexport interface SnapGrid {\n  x?: number;\n  y?: number;\n}\n\nexport type ValidateDrag = (coordinates: Coordinates) => boolean;\n\nexport interface PointerEvent {\n  clientX: number;\n  clientY: number;\n  event: MouseEvent | TouchEvent;\n}\n\nconst MOVE_CURSOR: string = 'move';\n\n@Directive({\n  selector: '[mwlDraggable]'\n})\nexport class DraggableDirective implements OnInit, OnChanges, OnDestroy {\n  /**\n   * an object of data you can pass to the drop event\n   */\n  @Input() dropData: any;\n\n  /**\n   * The axis along which the element is draggable\n   */\n  @Input() dragAxis: DragAxis = { x: true, y: true };\n\n  /**\n   * Snap all drags to an x / y grid\n   */\n  @Input() dragSnapGrid: SnapGrid = {};\n\n  /**\n   * Show a ghost element that shows the drag when dragging\n   */\n  @Input() ghostDragEnabled: boolean = true;\n\n  /**\n   * Allow custom behaviour to control when the element is dragged\n   */\n  @Input() validateDrag: ValidateDrag;\n\n  /**\n   * The cursor to use when dragging the element\n   */\n  @Input() dragCursor = MOVE_CURSOR;\n\n  /**\n   * Called when the element can be dragged along one axis and has the mouse or pointer device pressed on it\n   */\n  @Output() dragPointerDown = new EventEmitter<Coordinates>();\n\n  /**\n   * Called when the element has started to be dragged.\n   * Only called after at least one mouse or touch move event\n   */\n  @Output() dragStart = new EventEmitter<Coordinates>();\n\n  /**\n   * Called when the element is being dragged\n   */\n  @Output() dragging = new EventEmitter<Coordinates>();\n\n  /**\n   * Called after the element is dragged\n   */\n  @Output() dragEnd = new EventEmitter<Coordinates>();\n\n  /**\n   * @hidden\n   */\n  pointerDown: Subject<PointerEvent> = new Subject();\n\n  /**\n   * @hidden\n   */\n  pointerMove: Subject<PointerEvent> = new Subject();\n\n  /**\n   * @hidden\n   */\n  pointerUp: Subject<PointerEvent> = new Subject();\n\n  private eventListenerSubscriptions: {\n    mousemove?: () => void;\n    mousedown?: () => void;\n    mouseup?: () => void;\n    mouseenter?: () => void;\n    mouseleave?: () => void;\n    touchstart?: () => void;\n    touchmove?: () => void;\n    touchend?: () => void;\n    touchcancel?: () => void;\n  } = {};\n\n  /**\n   * @hidden\n   */\n  constructor(\n    public element: ElementRef,\n    private renderer: Renderer2,\n    private draggableHelper: DraggableHelper,\n    private zone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    this.checkEventListeners();\n\n    const pointerDrag: Observable<any> = this.pointerDown\n      .pipe(filter(() => this.canDrag()))\n      .pipe(\n        mergeMap((pointerDownEvent: PointerEvent) => {\n          const currentDrag: Subject<any> = new Subject();\n\n          this.zone.run(() => {\n            this.dragPointerDown.next({ x: 0, y: 0 });\n          });\n\n          const pointerMove: Observable<Coordinates> = this.pointerMove\n            .pipe(\n              map((pointerMoveEvent: PointerEvent) => {\n                pointerMoveEvent.event.preventDefault();\n\n                return {\n                  currentDrag,\n                  x: pointerMoveEvent.clientX - pointerDownEvent.clientX,\n                  y: pointerMoveEvent.clientY - pointerDownEvent.clientY,\n                  clientX: pointerMoveEvent.clientX,\n                  clientY: pointerMoveEvent.clientY\n                };\n              })\n            )\n            .pipe(\n              map((moveData: Coordinates) => {\n                if (this.dragSnapGrid.x) {\n                  moveData.x =\n                    Math.floor(moveData.x / this.dragSnapGrid.x) *\n                    this.dragSnapGrid.x;\n                }\n\n                if (this.dragSnapGrid.y) {\n                  moveData.y =\n                    Math.floor(moveData.y / this.dragSnapGrid.y) *\n                    this.dragSnapGrid.y;\n                }\n\n                return moveData;\n              })\n            )\n            .pipe(\n              map((moveData: Coordinates) => {\n                if (!this.dragAxis.x) {\n                  moveData.x = 0;\n                }\n\n                if (!this.dragAxis.y) {\n                  moveData.y = 0;\n                }\n\n                return moveData;\n              })\n            )\n            .pipe(\n              filter(\n                ({ x, y }) => !this.validateDrag || this.validateDrag({ x, y })\n              )\n            )\n            .pipe(takeUntil(merge(this.pointerUp, this.pointerDown)))\n            .pipe(share());\n\n          pointerMove.pipe(take(1)).subscribe(() => {\n            pointerDownEvent.event.preventDefault();\n\n            this.zone.run(() => {\n              this.dragStart.next({ x: 0, y: 0 });\n            });\n\n            this.setCursor(this.dragCursor);\n\n            this.draggableHelper.currentDrag.next(currentDrag);\n          });\n\n          pointerMove.pipe(takeLast(1)).subscribe(({ x, y }) => {\n            this.zone.run(() => {\n              this.dragEnd.next({ x, y });\n            });\n            currentDrag.complete();\n            this.setCssTransform(null);\n            if (this.ghostDragEnabled) {\n              this.renderer.setStyle(\n                this.element.nativeElement,\n                'pointerEvents',\n                null\n              );\n            }\n          });\n\n          return pointerMove;\n        })\n      )\n      .pipe(share());\n\n    merge(\n      pointerDrag.pipe(take(1)).pipe(map(value => [, value])),\n      pointerDrag.pipe(pairwise())\n    )\n      .pipe(\n        filter(([previous, next]) => {\n          if (!previous) {\n            return true;\n          }\n          return previous.x !== next.x || previous.y !== next.y;\n        })\n      )\n      .pipe(map(([previous, next]) => next))\n      .subscribe(({ x, y, currentDrag, clientX, clientY }) => {\n        this.zone.run(() => {\n          this.dragging.next({ x, y });\n        });\n        if (this.ghostDragEnabled) {\n          this.renderer.setStyle(\n            this.element.nativeElement,\n            'pointerEvents',\n            'none'\n          );\n        }\n        this.setCssTransform(`translate(${x}px, ${y}px)`);\n        currentDrag.next({\n          clientX,\n          clientY,\n          dropData: this.dropData\n        });\n      });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['dragAxis']) {\n      this.checkEventListeners();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribeEventListeners();\n    this.pointerDown.complete();\n    this.pointerMove.complete();\n    this.pointerUp.complete();\n  }\n\n  private checkEventListeners(): void {\n    const canDrag: boolean = this.canDrag();\n    const hasEventListeners: boolean =\n      Object.keys(this.eventListenerSubscriptions).length > 0;\n\n    if (canDrag && !hasEventListeners) {\n      this.zone.runOutsideAngular(() => {\n        this.eventListenerSubscriptions.mousedown = this.renderer.listen(\n          this.element.nativeElement,\n          'mousedown',\n          (event: MouseEvent) => {\n            this.onMouseDown(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.mouseup = this.renderer.listen(\n          'document',\n          'mouseup',\n          (event: MouseEvent) => {\n            this.onMouseUp(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.touchstart = this.renderer.listen(\n          this.element.nativeElement,\n          'touchstart',\n          (event: TouchEvent) => {\n            this.onTouchStart(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.touchend = this.renderer.listen(\n          'document',\n          'touchend',\n          (event: TouchEvent) => {\n            this.onTouchEnd(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.touchcancel = this.renderer.listen(\n          'document',\n          'touchcancel',\n          (event: TouchEvent) => {\n            this.onTouchEnd(event);\n          }\n        );\n\n        this.eventListenerSubscriptions.mouseenter = this.renderer.listen(\n          this.element.nativeElement,\n          'mouseenter',\n          () => {\n            this.onMouseEnter();\n          }\n        );\n\n        this.eventListenerSubscriptions.mouseleave = this.renderer.listen(\n          this.element.nativeElement,\n          'mouseleave',\n          () => {\n            this.onMouseLeave();\n          }\n        );\n      });\n    } else if (!canDrag && hasEventListeners) {\n      this.unsubscribeEventListeners();\n    }\n  }\n\n  private onMouseDown(event: MouseEvent): void {\n    if (!this.eventListenerSubscriptions.mousemove) {\n      this.eventListenerSubscriptions.mousemove = this.renderer.listen(\n        'document',\n        'mousemove',\n        (mouseMoveEvent: MouseEvent) => {\n          this.pointerMove.next({\n            event: mouseMoveEvent,\n            clientX: mouseMoveEvent.clientX,\n            clientY: mouseMoveEvent.clientY\n          });\n        }\n      );\n    }\n    this.pointerDown.next({\n      event,\n      clientX: event.clientX,\n      clientY: event.clientY\n    });\n  }\n\n  private onMouseUp(event: MouseEvent): void {\n    if (this.eventListenerSubscriptions.mousemove) {\n      this.eventListenerSubscriptions.mousemove();\n      delete this.eventListenerSubscriptions.mousemove;\n    }\n    this.pointerUp.next({\n      event,\n      clientX: event.clientX,\n      clientY: event.clientY\n    });\n  }\n\n  private onTouchStart(event: TouchEvent): void {\n    if (!this.eventListenerSubscriptions.touchmove) {\n      this.eventListenerSubscriptions.touchmove = this.renderer.listen(\n        'document',\n        'touchmove',\n        (touchMoveEvent: TouchEvent) => {\n          this.pointerMove.next({\n            event: touchMoveEvent,\n            clientX: touchMoveEvent.targetTouches[0].clientX,\n            clientY: touchMoveEvent.targetTouches[0].clientY\n          });\n        }\n      );\n    }\n    this.pointerDown.next({\n      event,\n      clientX: event.touches[0].clientX,\n      clientY: event.touches[0].clientY\n    });\n  }\n\n  private onTouchEnd(event: TouchEvent): void {\n    if (this.eventListenerSubscriptions.touchmove) {\n      this.eventListenerSubscriptions.touchmove();\n      delete this.eventListenerSubscriptions.touchmove;\n    }\n    this.pointerUp.next({\n      event,\n      clientX: event.changedTouches[0].clientX,\n      clientY: event.changedTouches[0].clientY\n    });\n  }\n\n  private onMouseEnter(): void {\n    this.setCursor(this.dragCursor);\n  }\n\n  private onMouseLeave(): void {\n    this.setCursor(null);\n  }\n\n  private setCssTransform(value: string | null): void {\n    if (this.ghostDragEnabled) {\n      const transformAttributes = [\n        'transform',\n        '-webkit-transform',\n        '-ms-transform',\n        '-moz-transform',\n        '-o-transform'\n      ];\n      transformAttributes.forEach(transformAttribute => {\n        this.renderer.setStyle(\n          this.element.nativeElement,\n          transformAttribute,\n          value\n        );\n      });\n    }\n  }\n\n  private canDrag(): boolean {\n    return this.dragAxis.x || this.dragAxis.y;\n  }\n\n  private setCursor(value: string | null): void {\n    this.renderer.setStyle(this.element.nativeElement, 'cursor', value);\n  }\n\n  private unsubscribeEventListeners(): void {\n    Object.keys(this.eventListenerSubscriptions).forEach(type => {\n      (this as any).eventListenerSubscriptions[type]();\n      delete (this as any).eventListenerSubscriptions[type];\n    });\n  }\n}\n",
    "import { Subject } from 'rxjs/Subject';\n\nexport class DraggableHelper {\n  currentDrag: Subject<any> = new Subject();\n}\n"
  ],
  "names": [
    "mergeMap",
    "filter",
    "pairwise",
    "distinctUntilChanged",
    "map",
    "merge",
    "take",
    "share",
    "takeLast",
    "takeUntil",
    "Subject"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;AGAA,AAEA,MAAA,eAAA,CAAA;;QACA,IAAA,CAAA,WAAA,GAA8B,IAAIU,SAAO,EAAE,CAA3C;;CACC;;;;;;ADJD;;;;;;;;;;;;;;;;AAiDA,MAAM,WAAW,GAAW,MAAM,CAAC;AAKnC,AAAA,MAAA,kBAAA,CAAA;;;;;;;;IAkFE,WAAF,CACW,OADX,EAEY,QAFZ,EAGY,eAHZ,EAIY,IAJZ,EAAA;QACW,IAAX,CAAA,OAAkB,GAAP,OAAO,CAAlB;QACY,IAAZ,CAAA,QAAoB,GAAR,QAAQ,CAApB;QACY,IAAZ,CAAA,eAA2B,GAAf,eAAe,CAA3B;QACY,IAAZ,CAAA,IAAgB,GAAJ,IAAI,CAAhB;;;;QA7EA,IAAA,CAAA,QAAA,GAAgC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAApD;;;;QAKA,IAAA,CAAA,YAAA,GAAoC,EAAE,CAAtC;;;;QAKA,IAAA,CAAA,gBAAA,GAAuC,IAAI,CAA3C;;;;QAUA,IAAA,CAAA,UAAA,GAAwB,WAAW,CAAnC;;;;QAKA,IAAA,CAAA,eAAA,GAA8B,IAAI,YAAY,EAAe,CAA7D;;;;;QAMA,IAAA,CAAA,SAAA,GAAwB,IAAI,YAAY,EAAe,CAAvD;;;;QAKA,IAAA,CAAA,QAAA,GAAuB,IAAI,YAAY,EAAe,CAAtD;;;;QAKA,IAAA,CAAA,OAAA,GAAsB,IAAI,YAAY,EAAe,CAArD;;;;QAKA,IAAA,CAAA,WAAA,GAAuC,IAAIA,SAAO,EAAE,CAApD;;;;QAKA,IAAA,CAAA,WAAA,GAAuC,IAAIA,SAAO,EAAE,CAApD;;;;QAKA,IAAA,CAAA,SAAA,GAAqC,IAAIA,SAAO,EAAE,CAAlD;QAYA,IAAA,CAAA,0BAAA,GAAM,EAAE,CAAR;KAUM;;;;IAEJ,QAAQ,GAAV;QACI,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAE3B,uBAAM,WAAW,GAAoB,IAAI,CAAC,WAAW;aAClD,IAAI,CAACT,QAAM,CAAC,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;aAClC,IAAI,CACHD,UAAQ,CAAC,CAAC,gBAA8B,KADhD;YAEU,uBAAM,WAAW,GAAiB,IAAIU,SAAO,EAAE,CAAC;YAEhD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAxB;gBACY,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;aAC3C,CAAC,CAAC;YAEH,uBAAM,WAAW,GAA4B,IAAI,CAAC,WAAW;iBAC1D,IAAI,CACHN,KAAG,CAAC,CAAC,gBAA8B,KADjD;gBAEgB,gBAAgB,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;gBAExC,OAAO;oBACL,WAAW;oBACX,CAAC,EAAE,gBAAgB,CAAC,OAAO,GAAG,gBAAgB,CAAC,OAAO;oBACtD,CAAC,EAAE,gBAAgB,CAAC,OAAO,GAAG,gBAAgB,CAAC,OAAO;oBACtD,OAAO,EAAE,gBAAgB,CAAC,OAAO;oBACjC,OAAO,EAAE,gBAAgB,CAAC,OAAO;iBAClC,CAAC;aACH,CAAC,CACH;iBACA,IAAI,CACHA,KAAG,CAAC,CAAC,QAAqB,KADxC;gBAEgB,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE;oBACvB,QAAQ,CAAC,CAAC;wBACR,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;4BAC5C,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;iBACvB;gBAED,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE;oBACvB,QAAQ,CAAC,CAAC;wBACR,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;4BAC5C,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;iBACvB;gBAED,OAAO,QAAQ,CAAC;aACjB,CAAC,CACH;iBACA,IAAI,CACHA,KAAG,CAAC,CAAC,QAAqB,KADxC;gBAEgB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE;oBACpB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;iBAChB;gBAED,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE;oBACpB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;iBAChB;gBAED,OAAO,QAAQ,CAAC;aACjB,CAAC,CACH;iBACA,IAAI,CACHH,QAAM,CACJ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAChE,CACF;iBACA,IAAI,CAACQ,WAAS,CAACJ,OAAK,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;iBACxD,IAAI,CAACE,OAAK,EAAE,CAAC,CAAC;YAEjB,WAAW,CAAC,IAAI,CAACD,MAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAA9C;gBACY,gBAAgB,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;gBAExC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAA1B;oBACc,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;iBACrC,CAAC,CAAC;gBAEH,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAEhC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACpD,CAAC,CAAC;YAEH,WAAW,CAAC,IAAI,CAACE,UAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAA3D;gBACY,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAA1B;oBACc,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;iBAC7B,CAAC,CAAC;gBACH,WAAW,CAAC,QAAQ,EAAE,CAAC;gBACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAC3B,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CACpB,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,eAAe,EACf,IAAI,CACL,CAAC;iBACH;aACF,CAAC,CAAC;YAEH,OAAO,WAAW,CAAC;SACpB,CAAC,CACH;aACA,IAAI,CAACD,OAAK,EAAE,CAAC,CAAC;QAEjBF,OAAK,CACH,WAAW,CAAC,IAAI,CAACC,MAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAACF,KAAG,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,EACvD,WAAW,CAAC,IAAI,CAACF,UAAQ,EAAE,CAAC,CAC7B;aACE,IAAI,CACHD,QAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,IAAI,CAAC,KADhC;YAEU,IAAI,CAAC,QAAQ,EAAE;gBACb,OAAO,IAAI,CAAC;aACb;YACD,OAAO,QAAQ,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;SACvD,CAAC,CACH;aACA,IAAI,CAACG,KAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;aACrC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,KAAzD;YACQ,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAtB;gBACU,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;aAC9B,CAAC,CAAC;YACH,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CACpB,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,eAAe,EACf,MAAM,CACP,CAAC;aACH;YACD,IAAI,CAAC,eAAe,CAAC,CAA7B,UAAA,EAA0C,CAAC,CAA3C,IAAA,EAAkD,CAAC,CAAnD,GAAA,CAAwD,CAAC,CAAC;YAClD,WAAW,CAAC,IAAI,CAAC;gBACf,OAAO;gBACP,OAAO;gBACP,QAAQ,EAAE,IAAI,CAAC,QAAQ;aACxB,CAAC,CAAC;SACJ,CAAC,CAAC;KACN;;;;;IAED,WAAW,CAAC,OAAsB,EAApC;QACI,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE;YACvB,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;KACF;;;;IAED,WAAW,GAAb;QACI,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAC5B,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;KAC3B;;;;IAEO,mBAAmB,GAA7B;QACI,uBAAM,OAAO,GAAY,IAAI,CAAC,OAAO,EAAE,CAAC;QACxC,uBAAM,iBAAiB,GACrB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;QAE1D,IAAI,OAAO,IAAI,CAAC,iBAAiB,EAAE;YACjC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAlC;gBACQ,IAAI,CAAC,0BAA0B,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC9D,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,WAAW,EACX,CAAC,KAAiB,KAH5B;oBAIY,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;iBACzB,CACF,CAAC;gBAEF,IAAI,CAAC,0BAA0B,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC5D,UAAU,EACV,SAAS,EACT,CAAC,KAAiB,KAH5B;oBAIY,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;iBACvB,CACF,CAAC;gBAEF,IAAI,CAAC,0BAA0B,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC/D,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,YAAY,EACZ,CAAC,KAAiB,KAH5B;oBAIY,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;iBAC1B,CACF,CAAC;gBAEF,IAAI,CAAC,0BAA0B,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC7D,UAAU,EACV,UAAU,EACV,CAAC,KAAiB,KAH5B;oBAIY,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;iBACxB,CACF,CAAC;gBAEF,IAAI,CAAC,0BAA0B,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAChE,UAAU,EACV,aAAa,EACb,CAAC,KAAiB,KAH5B;oBAIY,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;iBACxB,CACF,CAAC;gBAEF,IAAI,CAAC,0BAA0B,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC/D,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,YAAY,EACZ,MAHV;oBAIY,IAAI,CAAC,YAAY,EAAE,CAAC;iBACrB,CACF,CAAC;gBAEF,IAAI,CAAC,0BAA0B,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC/D,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,YAAY,EACZ,MAHV;oBAIY,IAAI,CAAC,YAAY,EAAE,CAAC;iBACrB,CACF,CAAC;aACH,CAAC,CAAC;SACJ;aAAM,IAAI,CAAC,OAAO,IAAI,iBAAiB,EAAE;YACxC,IAAI,CAAC,yBAAyB,EAAE,CAAC;SAClC;;;;;;IAGK,WAAW,CAAC,KAAiB,EAAvC;QACI,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,SAAS,EAAE;YAC9C,IAAI,CAAC,0BAA0B,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC9D,UAAU,EACV,WAAW,EACX,CAAC,cAA0B,KAHnC;gBAIU,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;oBACpB,KAAK,EAAE,cAAc;oBACrB,OAAO,EAAE,cAAc,CAAC,OAAO;oBAC/B,OAAO,EAAE,cAAc,CAAC,OAAO;iBAChC,CAAC,CAAC;aACJ,CACF,CAAC;SACH;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;YACpB,KAAK;YACL,OAAO,EAAE,KAAK,CAAC,OAAO;YACtB,OAAO,EAAE,KAAK,CAAC,OAAO;SACvB,CAAC,CAAC;;;;;;IAGG,SAAS,CAAC,KAAiB,EAArC;QACI,IAAI,IAAI,CAAC,0BAA0B,CAAC,SAAS,EAAE;YAC7C,IAAI,CAAC,0BAA0B,CAAC,SAAS,EAAE,CAAC;YAC5C,OAAO,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC;SAClD;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YAClB,KAAK;YACL,OAAO,EAAE,KAAK,CAAC,OAAO;YACtB,OAAO,EAAE,KAAK,CAAC,OAAO;SACvB,CAAC,CAAC;;;;;;IAGG,YAAY,CAAC,KAAiB,EAAxC;QACI,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,SAAS,EAAE;YAC9C,IAAI,CAAC,0BAA0B,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC9D,UAAU,EACV,WAAW,EACX,CAAC,cAA0B,KAHnC;gBAIU,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;oBACpB,KAAK,EAAE,cAAc;oBACrB,OAAO,EAAE,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO;oBAChD,OAAO,EAAE,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO;iBACjD,CAAC,CAAC;aACJ,CACF,CAAC;SACH;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;YACpB,KAAK;YACL,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;YACjC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;SAClC,CAAC,CAAC;;;;;;IAGG,UAAU,CAAC,KAAiB,EAAtC;QACI,IAAI,IAAI,CAAC,0BAA0B,CAAC,SAAS,EAAE;YAC7C,IAAI,CAAC,0BAA0B,CAAC,SAAS,EAAE,CAAC;YAC5C,OAAO,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC;SAClD;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YAClB,KAAK;YACL,OAAO,EAAE,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,OAAO;YACxC,OAAO,EAAE,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,OAAO;SACzC,CAAC,CAAC;;;;;IAGG,YAAY,GAAtB;QACI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;;;;;IAG1B,YAAY,GAAtB;QACI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;;;;;;IAGf,eAAe,CAAC,KAAoB,EAA9C;QACI,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,uBAAM,mBAAmB,GAAG;gBAC1B,WAAW;gBACX,mBAAmB;gBACnB,eAAe;gBACf,gBAAgB;gBAChB,cAAc;aACf,CAAC;YACF,mBAAmB,CAAC,OAAO,CAAC,kBAAkB,IAApD;gBACQ,IAAI,CAAC,QAAQ,CAAC,QAAQ,CACpB,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,kBAAkB,EAClB,KAAK,CACN,CAAC;aACH,CAAC,CAAC;SACJ;;;;;IAGK,OAAO,GAAjB;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;;;;;;IAGpC,SAAS,CAAC,KAAoB,EAAxC;QACI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;;;;;IAG9D,yBAAyB,GAAnC;QACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC,OAAO,CAAC,IAAI,IAA7D;YACM,mBAAC,IAAW,GAAE,0BAA0B,CAAC,IAAI,CAAC,EAAE,CAAC;YACjD,OAAO,mBAAC,IAAW,GAAE,0BAA0B,CAAC,IAAI,CAAC,CAAC;SACvD,CAAC,CAAC;;;;IAxZP,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW;gBACT,QAAQ,EAAE,gBAAgB;aAC3B,EAAD,EAAA;;;;IAlDA,EAAA,IAAA,EAAE,UAAU,GAAZ;IACA,EAAA,IAAA,EAAE,SAAS,GAAX;IAoBA,EAAA,IAAA,EAAS,eAAe,GAAxB;IAdA,EAAA,IAAA,EAAE,MAAM,GAAR;;;IAgDA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,EAAA;IAKA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,EAAA;IAKA,cAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,EAAA;IAKA,kBAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,EAAA;IAKA,cAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,EAAA;IAKA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,EAAA;IAKA,iBAAA,EAAA,CAAA,EAAA,IAAA,EAAG,MAAM,EAAT,EAAA;IAMA,WAAA,EAAA,CAAA,EAAA,IAAA,EAAG,MAAM,EAAT,EAAA;IAKA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAG,MAAM,EAAT,EAAA;IAKA,SAAA,EAAA,CAAA,EAAA,IAAA,EAAG,MAAM,EAAT,EAAA;;;;;;;ADxGA;;;;;;AAmBA,SAAA,2BAAA,CACE,OAAe,EACf,OAAe,EACf,IAAgB,EAHlB;IAKE,QACE,OAAO,IAAI,IAAI,CAAC,IAAI;QACpB,OAAO,IAAI,IAAI,CAAC,KAAK;QACrB,OAAO,IAAI,IAAI,CAAC,GAAG;QACnB,OAAO,IAAI,IAAI,CAAC,MAAM,EACtB;CACH;;;;;AASD,MAAA,kBAAA,CAAA;;;;;;IAuBE,WAAF,CACY,OADZ,EAEY,eAFZ,EAGY,IAHZ,EAAA;QACY,IAAZ,CAAA,OAAmB,GAAP,OAAO,CAAnB;QACY,IAAZ,CAAA,eAA2B,GAAf,eAAe,CAA3B;QACY,IAAZ,CAAA,IAAgB,GAAJ,IAAI,CAAhB;;;;QAtBA,IAAA,CAAA,SAAA,GAAwB,IAAI,YAAY,EAAY,CAApD;;;;QAKA,IAAA,CAAA,SAAA,GAAwB,IAAI,YAAY,EAAY,CAApD;;;;QAKA,IAAA,CAAA,QAAA,GAAuB,IAAI,YAAY,EAAY,CAAnD;;;;QAKA,IAAA,CAAA,IAAA,GAAmB,IAAI,YAAY,EAAY,CAA/C;KAQM;;;;IAEJ,QAAQ,GAAV;;;;QAOI,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,SAAS,CACvE,CAAC,IAA8B,KADrC;YAEQ,uBAAM,kBAAkB,GAAe,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YAE1F,qBAAI,mBAAwB,CAAC;YAC7B,uBAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CACxBA,KAAG,CAAC,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,KAD7C;gBAEY,mBAAmB,GAAG,QAAQ,CAAC;gBAC/B,OAAO,2BAA2B,CAChC,OAAO,EACP,OAAO,EACP,kBAAkB,CACnB,CAAC;aACH,CAAC,CACH,CAAC;YAEF,uBAAM,eAAe,GAAG,QAAQ,CAAC,IAAI,CAACD,sBAAoB,EAAE,CAAC,CAAC;YAE9D,qBAAI,cAAuB,CAAC;YAE5B,eAAe;iBACZ,IAAI,CAACF,QAAM,CAAC,WAAW,IAAI,WAAW,CAAC,CAAC;iBACxC,SAAS,CAAC,MAArB;gBACY,cAAc,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAA1B;oBACc,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;wBAClB,QAAQ,EAAE,mBAAmB;qBAC9B,CAAC,CAAC;iBACJ,CAAC,CAAC;aACJ,CAAC,CAAC;YAEL,QAAQ,CAAC,IAAI,CAACA,QAAM,CAAC,WAAW,IAAI,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,MAApE;gBACU,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAxB;oBACY,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;wBACjB,QAAQ,EAAE,mBAAmB;qBAC9B,CAAC,CAAC;iBACJ,CAAC,CAAC;aACJ,CAAC,CAAC;YAEH,eAAe;iBACZ,IAAI,CAACC,UAAQ,EAAE,CAAC;iBAChB,IAAI,CACHD,QAAM,CAAC,CAAC,CAAC,UAAU,EAAE,WAAW,CAAC,KAAK,UAAU,IAAI,CAAC,WAAW,CAAC,CAClE;iBACA,SAAS,CAAC,MAArB;gBACY,cAAc,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAA1B;oBACc,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;wBAClB,QAAQ,EAAE,mBAAmB;qBAC9B,CAAC,CAAC;iBACJ,CAAC,CAAC;aACJ,CAAC,CAAC;YAEL,IAAI,CAAC,IAAI,CAACD,UAAQ,CAAC,MAAM,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC;gBAC5C,QAAQ,EAAE,MAApB;oBACY,IAAI,cAAc,EAAE;wBAClB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAA5B;4BACgB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gCACb,QAAQ,EAAE,mBAAmB;6BAC9B,CAAC,CAAC;yBACJ,CAAC,CAAC;qBACJ;iBACF;aACF,CAAC,CAAC;SACJ,CACF,CAAC;KACH;;;;IAED,WAAW,GAAb;QACI,IAAI,CAAC,uBAAuB,CAAC,WAAW,EAAE,CAAC;KAC5C;;;IA7GH,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW;gBACT,QAAQ,EAAE,gBAAgB;aAC3B,EAAD,EAAA;;;;IAnCA,EAAA,IAAA,EAAE,UAAU,GAAZ;IAcA,EAAA,IAAA,EAAS,eAAe,GAAxB;IAVA,EAAA,IAAA,EAAE,MAAM,GAAR;;;IAoCA,WAAA,EAAA,CAAA,EAAA,IAAA,EAAG,MAAM,EAAT,EAAA;IAKA,WAAA,EAAA,CAAA,EAAA,IAAA,EAAG,MAAM,EAAT,EAAA;IAKA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAG,MAAM,EAAT,EAAA;IAKA,MAAA,EAAA,CAAA,EAAA,IAAA,EAAG,MAAM,EAAT,EAAA;;;;;;;AD1DA,AASA,MAAA,iBAAA,CAAA;;;;IACE,OAAO,OAAO,GAAhB;QACI,OAAO;YACL,QAAQ,EAAE,iBAAiB;YAC3B,SAAS,EAAE,CAAC,eAAe,CAAC;SAC7B,CAAC;KACH;;;IAVH,EAAA,IAAA,EAAC,QAAQ,EAAT,IAAA,EAAA,CAAU;gBACR,YAAY,EAAE,CAAC,kBAAkB,EAAE,kBAAkB,CAAC;gBACtD,OAAO,EAAE,CAAC,kBAAkB,EAAE,kBAAkB,CAAC;aAClD,EAAD,EAAA;;;;;;;;;;;;;;;;;;;;"
}
